# Moscow cafe

Название проекта: Анализ рынка заведений общественного питания г. Москва и рекомендации по потенциальному открытию кофейни.

Описание проекта: Инвесторы из фонда «Shut Up and Take My Money» решили попробовать себя в новой области и открыть заведение 
общественного питания в Москве. Заказчики ещё не знают, что это будет за место: кафе, ресторан, пиццерия, паб или бар, — и 
какими будут расположение, меню и цены. Для начала они просят вас — аналитика — подготовить исследование рынка Москвы, 
найти интересные особенности и презентовать полученные результаты, которые в будущем помогут в выборе подходящего инвесторам места.

Описание данных: Файл moscow_places.csv: name — название заведения; address — адрес заведения; category — категория заведения, 
например «кафе», «пиццерия» или «кофейня»; hours — информация о днях и часах работы; lat — широта географической точки, 
в которой находится заведение; lng — долгота географической точки, в которой находится заведение; rating — рейтинг заведения по 
оценкам пользователей в Яндекс Картах (высшая оценка — 5.0); price — категория цен в заведении, например «средние», «ниже среднего», 
«выше среднего» и так далее; avg_bill — строка, которая хранит среднюю стоимость заказа в виде диапазона, 
например: «Средний счёт: 1000–1500 ₽»; «Цена чашки капучино: 130–220 ₽»; «Цена бокала пива: 400–600 ₽». и так далее; 
middle_avg_bill — число с оценкой среднего чека, которое указано только для значений из столбца avg_bill, начинающихся с подстроки 
«Средний счёт»: Если в строке указан ценовой диапазон из двух значений, в столбец войдёт медиана этих двух значений. 
Если в строке указано одно число — цена без диапазона, то в столбец войдёт это число. Если значения нет или оно не начинается с подстроки 
«Средний счёт», то в столбец ничего не войдёт. middle_coffee_cup — число с оценкой одной чашки капучино, 
которое указано только для значений из столбца avg_bill, начинающихся с подстроки «Цена одной чашки капучино»: 
Если в строке указан ценовой диапазон из двух значений, в столбец войдёт медиана этих двух значений. Если в строке указано одно 
число — цена без диапазона, то в столбец войдёт это число. Если значения нет или оно не начинается с подстроки «Цена одной чашки капучино», 
то в столбец ничего не войдёт. chain — число, выраженное 0 или 1, которое показывает, является ли заведение сетевым 
(для маленьких сетей могут встречаться ошибки): 0 — заведение не является сетевым 1 — заведение является сетевым district — 
административный район, в котором находится заведение, например Центральный административный округ; seats — количество посадочных мест.

Цели работы:

1. Узнать, Какие категории заведений представлены в данных?
2. Исследуйте количество посадочных мест в местах по категориям?
3. Рассмотреть и изобразить соотношение сетевых и несетевых заведений в датасете. Каких заведений больше?
4. Какие категории заведений чаще являются сетевыми?
5. Найти топ-15 популярных сетей в Москве. Под популярностью понимается количество заведений этой сети в регионе.
6. Рассмотреть административные районы Москвы, присутствующие в датасете. Отобразить общее количество заведений и 
количество заведений каждой категории по районам.
7. Визуализировать распределение средних рейтингов по категориям заведений. Сильно ли различаются усреднённые рейтинги в разных типах общепита?
8. Построить фоновую картограмму (хороплет) со средним рейтингом заведений каждого района. Границы районов Москвы, которые встречаются в датасете, 
хранятся в файле admin_level_geomap.geojson
9. Отобразить все заведения датасета на карте с помощью кластеров средствами библиотеки folium
10. Найти топ-15 улиц по количеству заведений. Построить график распределения количества заведений и их категорий по этим улицам.
11. Найти улицы, на которых находится только один объект общепита.
12. Посчитать медиану столбца middle_avg_bill для каждого района. Используйте это значение в качестве ценового индикатора района. 
Постройте фоновую картограмму (хороплет) с полученными значениями для каждого района. Проанализируйте цены в центральном административном 
округе и других. Как удалённость от центра влияет на цены в заведениях?
13. Посмотреть есть ли зависимость между рейтингом и средним чеком?
14. Узнать медианный размер чека по категориям
15. Детализируем исследование: открытие кофейни
16. Подготовка презентации

Содержание:
1) Открыть файл с данными и изучить общую информацию
2) Предобработка данных
3) Анализ данных
4) Детализируем исследование: открытие кофейни
5) Презентация
6) Итоги работы

О данных:

В датасете у нас 5512 уникальных названия заведений. Столбцы name, category, address, district, hours, price и avg_bill имеют подходящий тип данных 
object, так как они описывают информацию о заведении. Столбцы lat, lng, rating, middle_avg_bill, middle_coffee_cup имеют подходящий тип данных float, 
так как значения в этих столбцах выражаются рациональными числами. Столбец chain имеет подходящий тип данных int, так как выражается целыми чилами.  
Столбцу seats имеет тип данных float, но ему больше подходит int, т.к. количество сидяцих мест может быть только целым числом. Так же нужно будет  
перевести столбцы с названиями, адресом и средней стоимостью заказа в нижний регистр. В данных есть пропуски.
 
 
В работе использованы следующие библиотеки: pandas, matplotlib, numpy, seaborn, plotly, folium, warnings.

В результате анализ данных было выявленно следующее: 

1) Больше всего в Москве объектов общественного питания категории "кафе". На втором месте - "рестораны", на третьем - "кофейни".
Категория - "булочная" самая малочисленная.
2) Наибольшее медианное количество посадочных мест - в ресторанах, барах и кофейнях (80-90). Меньше всего - в булочных (50). 
Медианное количество посадочных мест в приниципе по категориям находится в диапазоне от 50 до 90.
3) Чаще всего являются сетевыми булочные - 61%, пиццерий и кофеин - сетевых и несетевых примерно поровну; 
заведения быстрого питания, рестораны, кафе, столовые, бары, пабы - чаще являются несетевыми.
4) Кофейня Шоколадница (120 заведений в регионе) является явным лидером среди сетей. 
Больше всего заведений сети принадлежит категории кофейня. Шоколадница, так же как и прочие заведения, на слуху у большинства людей.
5) Самый высокий средний рейтинг - у заведений Центрального административного округа (около 4.38). 
Самые низкие средние рейтинги - у Юго-Восточного административных округов (4.1). У заведений остальных округов средний рейтинг в диапазоне от 4.14 до 4.24
6) Пр-к Мира явно лидирует по кол-ву заведений (более 180). На этой улице самые популярные категории - кафе, рестораны, кофейни. 
Последняя в топе - Пятницкая улица (48 заведений). В целом, категория кафе и рестораны на 15 самых популярных улицах практически равны. 
На МКАД категория кафе явно доминирует. Скорей всего люди на этой улице проездом, и их задача быстро поесть. 
По этому данный формат заведений там так популярен.
7) На улицах, на которых находится только один объект общепита: 
   - Всего 457 заведений.
   - Категория кафе в явных лидерах. В отличие от общего среза, рестораны и прочие категории значительно отстают. Категория булочная на последнем месте.
   - Распределение по районам: Лидирует, как и в целом, Центральном административном округе. 
     А вот последнее место занимает тут уже Юго-Западный административный округ, а Северо-Западный административный округ тут на втором месте 
	(По всем заведениям было наоборот-последним был по кол-ву заведений был Северо-Западный административный округ) 
   - Пропорции по сравнению с общим распределением не изменились (38.1% и 61.9% для не сетевых и сетевых заведений соответственно)
8) Самые высокие средние(медианный) чеки в Центральном и Западном административных округах (1000 руб.), 
самый низкий - в Юго-Восточном административном округе (450 руб.). В остальных округах средние чеки находится в диапазоне от 500 до 700 руб. 
В целом, удаленность от центра влияет на средний чек, но не всегда.
9) Зависимость рейтинга и среднего чека: зависимостей между рейтингом и средним чеком найти не удалось.
Большая часть посетителей ставит высокие оценки. Средняя оценка 4.23 и только четверть посетителей поставили оценку рейтинга менее 4.1 баллов.
10) Медианный размер чека по категориям самый высокий в барах, и ресторанах. Самый низкий в столовых. 
Отрыв первых двух категорий от всех прочих значителен (в два раза). Скорей всего, причина кроется в употребление алкоголя в первых двух 
категориях заведений, а так же, ресторан, бар ходят провести время в определённой атмосфере и общий ценник меню скорее всего там выше. 


Итоги работы:

В датасете у нас 5512 уникальных названия заведений. Столбцы name, category, address, district, hours, price и avg_bill имеют подходящий тип данных object, 
так как они описывают информацию о заведении. Столбцы lat, lng, rating, middle_avg_bill, middle_coffee_cup имеют подходящий тип данных float, 
так как значения в этих столбцах выражаются рациональными числами. Столбец chain имеет подходящий тип данных int, так как выражается целыми чилами. 
Столбцу seats имеет тип данных float, но ему больше подходит int, т.к. количество сидяцих мест может быть только целым числом. Так же нужно будет 
перевести столбцы с названиями, адресом и средней стоимостью заказа в нижний регистр. В данных есть пропуски, что с ними делать-разберемся в следующей части.
Пропусков очень много, просто удалить их не получится, но заполнять их не корректно. Столбцы hours и seats содержат индивидуальную информацию о заведение. 
Ресурсов и возможностей восполнить её мы не имеем. Значения в столбце avg_bill распределены по столбцам middle_avg_bill и middle_coffee_cup. 
Для ответа на поставленные вопросы эти данные для нас не принципиальны, по этому принимаю решение оставить данные как есть.
Результаты анализа данных: Всего 8402 заведения. Больше всего в Москве объектов общественного питания категории "кафе". На втором месте - "рестораны", 
на третьем - "кофейни". Категория - "булочная" самая малочисленная. Наибольшее медианное количество посадочных мест - в ресторанах, барах и кофейнях (80-90). 
Меньше всего - в булочных (50). Медианное количество посадочных мест в приниципе по категориям находится в диапазоне от 50 до 90. 
Большая часть заведений общественного питания - несетевые (62 %), сетевых заведений 38 %. Чаще всего являются сетевыми булочные - 61%, 
пиццерий и кофеин - сетевых и несетевых примерно поровну; заведения быстрого питания, рестораны, кафе, столовые, бары, пабы - чаще являются несетевыми. 
Кофейня Шоколадница (120 заведений в регионе) является явным лидером среди сетей. Больше всего заведений сети принадлежит категории кофейня. Шоколадница, 
так же как и прочие заведения, на слуху у большинства людей. Всего мы рассматриваем 9 округов: Центральный, Северный, Южный, Северо-Восточный, Западный, 
Восточный, Юго-Восточный, Юго-Западный, Северо-Западный. Больше всего заведений находится в Центральном административном округе. В прочих округах кол-во 
примерно в 3 раза ниже. Северо-Западном округе имеет меньше всего точек общественного питания. В Центральном администативном округе большую часть заведений 
составляют рестораны, затем следуют кафе, кофейни и бары. В других округах большую часть заведений составляют кафе. Категория заведений "бар, паб"(около 4.4) 
занимает первое место. На втором месте пиццерии(около 4.3). На третьем месте рестораны(чуть ниже 4.3). 
Худший рейтинг у заведений быстрого питания(примерно 4.05). Самый высокий средний рейтинг - у заведений Центрального административного округа (около 4.38). 
Самые низкие средние рейтинги у Юго-Восточного административных округов (4.1). У заведений остальных округов средний рейтинг в диапазоне от 4.14 до 4.24. 
Пр-к Мира явно лидирует по кол-ву заведений (более 180). На этой улице самые популярные категории - кафе, рестораны, кофейни. 
Последняя в топе - Пятницкая улица (48 заведений). В целом, категория кафе и рестораны на 15 самых популярных улицах практически равны. 
На МКАД категория кафе явно доминирует. Скорей всего люди на этой улице проездом, и их задача быстро поесть. По этому данный формат заведений там так популярен. 
В целом, про заведения которые находятся на улице в единственном числе можно сказать следующее: Всего таких 457 штук Категория кафе в явных лидерах. 
В отличие от общего среза, рестораны и прочие категории значительно отстают. Категория булочная на последнем месте Лидирует, как и в целом, 
Центральном административном округе. А вот последнее место занимает тут уже Юго-Западный административный округ, а Северо-Западный административный округ 
тут на втором месте (По всем заведениям было наоборот-последним был по кол-ву заведений был Северо-Западный административный округ) 
Пропорции по сравнению с общим распределением не изменились (38.1% и 61.9% для не сетевых и сетевых заведений соответственно)​Самые высокие средние(медианный) 
чеки в Центральном и Западном административных округах (1000 руб.), самый низкий - в Юго-Восточном административном округе (450 руб.). 
В остальных округах средние чеки находится в диапазоне от 500 до 700 руб. В целом, удаленность от центра влияет на средний чек, но не всегда. 
Во время анализа зависимостей между рейтингом и средним чеком найти не удалось 2) Большая часть посетителей ставит высокие оценки. 
Средняя оценка 4.23 и только четверть посетителей поставили оценку рейтинга менее 4.1 баллов. Медианный размер чека по категориям самый высокий в барах, 
и ресторанах. Самый низкий в столовых. Отрыв первых двух категорий от всех прочих значителен (в два раза). Скорей всего, причина кроется в 
употребление алкоголя в первых двух категориях заведений, а так же, ресторан, бар ходят провести время в определённой атмосфере и общий ценник меню 
скорее всего там выше. Зависимостей между рейтингом и средним чеком найти не удалось Большая часть посетителей ставит высокие оценки. 
Средняя оценка 4.23 и только четверть посетителей поставили оценку рейтинга менее 4.1 баллов Медианный размер чека по категориям самый высокий в барах, 
и ресторанах. Самый низкий в столовых. Отрыв первых двух категорий от всех прочих значителен (в два раза). Скорей всего, причина кроется в употребление 
алкоголя в первых двух категориях заведений, а так же, ресторан, бар ходят провести время в определённой атмосфере и общий ценник меню скорее всего там выше.
​
Рекомендация: Для открытия кофейни лучше приглядеться к Центральному и Западному округам. 
В этих районах в среднем и чек выше заведений разного формата, и стоимость чашки кофе чаще всего одна из самых высоких. 
Так же количество кофеен работающих круглосуточно выше именно в этих округах. Возможно, именно формат 24/7 недооценён. 



Презентация

https://docs.google.com/presentation/d/1GMfZnlclzFtUokQJzvc2H2h5cfXiZdVOEXdCamTwKAI/edit?usp=sharing